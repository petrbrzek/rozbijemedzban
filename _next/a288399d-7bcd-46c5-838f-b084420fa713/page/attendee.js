module.exports=__NEXT_REGISTER_PAGE("/attendee",function(){var e=webpackJsonp([4],{281:function(e,t,a){e.exports=a(282)},282:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(39);var r=a.n(n);var o=a(126);var s=a.n(o);var l=a(3);var i=a.n(l);var c=a(108);var u=a(76);var m=a.n(u);var p=a(112);var f=a(121);var d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,a,n){if(a)e(t.prototype,a);if(n)e(t,n);return t}}();function h(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function n(r,o){try{var s=t[r](o);var l=s.value}catch(e){a(e);return}if(s.done)e(l);else return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)})}return n("next")})}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"===typeof t||"function"===typeof t)?t:e}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var x={loading:"Načítám data o pozvánce...",noInvite:"Bohužel nebyla nalezena žádná pozvánka. Pokud si myslíte, že je to chyba, tak se ozvěte Petrovi nebo Šárce"};var E=function(e){b(t,e);function t(){g(this,t);return v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}d(t,[{key:"render",value:function e(){var t=this.props.data;if(t&&t.loading)return i.a.createElement("div",null,i.a.createElement("h1",null,x.loading));var a=void 0;if(this.props.url&&this.props.url.query)a=this.props.url.query.invite;if(!a)return i.a.createElement("h1",null,x.noInvite);return i.a.createElement("div",{className:"jsx-99135587"},i.a.createElement(y,{client:this.props.client,attendeeId:a}),i.a.createElement(s.a,{styleId:"99135587",css:["@font-face{font-family:'Gotham';src:url('http://cldup.com/GoUKsiJHY5.eot');src:url('http://cldup.com/GoUKsiJHY5.eot?#iefix') format('embedded-opentype'), url('https://cldup.com/56DqDDRMNy.woff2') format('woff2'), url('http://cldup.com/jL8uvoxVkp.woff') format('woff'), url('http://cldup.com/zvyd2sKPlE.ttf') format('truetype');font-weight:500;font-style:normal;}","@font-face{font-family:'Gotham';src:url('http://cldup.com/Nzugi9bWhF.eot');src:url('http://cldup.com/Nzugi9bWhF.eot?#iefix') format('embedded-opentype'), url('https://cldup.com/C9Y1N5Qf43.woff2') format('woff2'), url('https://cldup.com/pixHn5aVxl.woff') format('woff'), url('http://cldup.com/ucdaZLKgg7.ttf') format('truetype');font-weight:bold;font-style:normal;}","*{margin:0;padding:0;box-sizing:border-box;}","html,body{font-size:10px;font-family:'Open Sans',sans-serif;line-height:1.5;}","h1,h2,h3{font-family:Gotham,sans-serif;font-size:5rem;line-height:1.1;-webkit-letter-spacing:-0.2rem;-moz-letter-spacing:-0.2rem;-ms-letter-spacing:-0.2rem;letter-spacing:-0.2rem;padding-top:2.5rem;padding-bottom:2rem;}","h2{padding-top:3rem;padding-bottom:1rem;}","h3{font-size:4rem;padding:1rem 0;}",".root{font-size:2.5rem;}","a{color:rgba(84,58,12,1);text-decoration:none;}",".layout{width:700px;padding:0 1rem 5rem;margin:auto;}",".text-center{text-align:center;}"]}))}}]);return t}(i.a.Component);var j="GOING";var N="NOT_GOING";var O=function(e){b(t,e);function t(){var e;var a,n,r;g(this,t);for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];return r=(a=(n=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n),n.state={Attendee:null,loading:true,going:null,plusOne:null},n._requestAttendee=function(){n.props.client.query({query:f["f"],fetchPolicy:"network-only",variables:{attendeeId:n.props.attendeeId}}).then(function(e){console.log("Result ",e.data,e.data.Attendee);n.setState({Attendee:e.data&&e.data.Attendee,loading:false})})},n._handleGoing=function(e){n.setState({going:e});n.props.changeAttendsState({variables:{attendeeId:n.props.attendeeId,attends:e}}).then(function(e){n._requestAttendee()}).catch(function(e){console.error("Error #changeAttendsState: ",e)})},n._handlePlusOne=function(e){n.setState({plusOne:e});n.props.changePlusOneState({variables:{attendeeId:n.props.attendeeId,plusOneMember:e}}).then(function(e){n._requestAttendee()}).catch(function(e){console.error("Error #changePlusOneState: ",e)})},a),v(n,r)}d(t,[{key:"componentDidMount",value:function e(){this._signUpProvisionalUser()}},{key:"_signUpProvisionalUser",value:function(){var e=h(r.a.mark(function e(){var t,a;return r.a.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:n.prev=0;n.next=3;return this.props.signUpProvisionalUser({variables:{attendeeId:this.props.attendeeId}});case 3:t=n.sent;a=t.data.provisionalSignUp.token;localStorage.setItem("graphcoolToken",a);this._requestAttendee();n.next=13;break;case 9:n.prev=9;n.t0=n["catch"](0);console.error("Error #signUpProvisionalUser: ",n.t0);this.setState({loading:false});case 13:case"end":return n.stop()}},e,this,[[0,9]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"render",value:function e(){var t=this;if(this.state.loading)return i.a.createElement("div",{className:"layout text-center"},i.a.createElement("h1",null,x.loading));var a=this.state.Attendee;if(!a)return i.a.createElement("div",{className:"layout text-center"},i.a.createElement("h1",null,x.noInvite));var n=this.state.going||a.attends;var r="";var o="ZATÍM BEZ ODPOVĚDI";if(n===j){r="positive";o="PŘIJDEŠ. TO JE SUPER, TĚŠÍME SE!"}else if(n===N){r="negative";o="NEPŘIJDEŠ. ŠKODA, TAK SNAD JINDY."}var l=null!=this.state.plusOne?this.state.plusOne:a.plusOneMember;var c="";var u="ZATÍM BEZ ODPOVĚDI";if(l){c="positive";u="SUPER. BUDEME S TÍM POČÍTAT."}else if(false===l){c="negative";u="OK. DÍKY ZA ODPOVĚĎ."}return i.a.createElement("div",{className:"jsx-3954724511"+" "+"layout"},i.a.createElement("h1",{className:"jsx-3954724511"},"POZVÁNKA",i.a.createElement("br",{className:"jsx-3954724511"}),"NA SVATBU",i.a.createElement("br",{className:"jsx-3954724511"}),"PETRA A ŠÁRKY",i.a.createElement("br",{className:"jsx-3954724511"}),i.a.createElement("b",{className:"jsx-3954724511"+" "+"highlight"},"30. 6. 2018")),i.a.createElement("div",{className:"jsx-3954724511"+" "+"separator"}),i.a.createElement("h2",{className:"jsx-3954724511"+" "+"unhighlight"},"PRO HOSTA JMÉNEM:"),i.a.createElement("h3",{className:"jsx-3954724511"},a.fullName),i.a.createElement("div",{className:"jsx-3954724511"+" "+"box"},i.a.createElement("h2",{className:"jsx-3954724511"+" "+"unhighlight"},"DEJ NÁM VĚDET,",i.a.createElement("br",{className:"jsx-3954724511"}),"ZDA DORAZÍŠ:"),i.a.createElement("div",{className:"jsx-3954724511"+" "+"box "+r},i.a.createElement("button",{onClick:function e(){t._handleGoing(j)},className:"jsx-3954724511"+" "+"button positive-btn"},"Ano, přijdu."),i.a.createElement("button",{onClick:function e(){t._handleGoing(N)},className:"jsx-3954724511"+" "+"button negative-btn"},"Ne, nepřijdu.")),i.a.createElement("h3",{className:"jsx-3954724511"},i.a.createElement("span",{className:"jsx-3954724511"+" "+"unhighlight"},"TVÁ ODPOVĚĎ:")," ",o)),i.a.createElement("div",{className:"jsx-3954724511"+" "+"box"},i.a.createElement("h2",{className:"jsx-3954724511"+" "+"unhighlight"},"BUDEŠ MÍT S SEBOU,",i.a.createElement("br",{className:"jsx-3954724511"}),"DOPROVOD?"),i.a.createElement("div",{className:"jsx-3954724511"+" "+"box "+c},i.a.createElement("button",{onClick:function e(){t._handlePlusOne(true)},className:"jsx-3954724511"+" "+"button positive-btn"},"Ano, budu mít doprovod."),i.a.createElement("button",{onClick:function e(){t._handlePlusOne(false)},className:"jsx-3954724511"+" "+"button negative-btn"},"Ne, nebudu.")),i.a.createElement("h3",{className:"jsx-3954724511"},i.a.createElement("span",{className:"jsx-3954724511"+" "+"unhighlight"},"TVÁ ODPOVĚĎ:")," ",u)),i.a.createElement("div",{className:"jsx-3954724511"+" "+"box"},i.a.createElement("h2",{className:"jsx-3954724511"+" "+"unhighlight"},"ORGANIZAČNÍ INFORMACE"),i.a.createElement("h3",{className:"jsx-3954724511"},"Veškeré organizační informace, program a seznam darů bude uveden (pokud už není 😇) na hlavní stránce."),i.a.createElement("div",{className:"jsx-3954724511"+" "+"box"},i.a.createElement("br",{className:"jsx-3954724511"}),i.a.createElement("br",{className:"jsx-3954724511"}),i.a.createElement("a",{href:"/",className:"jsx-3954724511"+" "+"button"},"OTEVŘÍT HLAVNÍ STRÁNKU"))),i.a.createElement(s.a,{styleId:"3954724511",css:[".box.positive.jsx-3954724511 .negative-btn.jsx-3954724511,.box.negative.jsx-3954724511 .positive-btn.jsx-3954724511{background:#454545;}",".separator.jsx-3954724511{width:60%;height:7px;background:#000;}",".highlight.jsx-3954724511{color:#C9174F;}",".unhighlight.jsx-3954724511{color:#8B8B8B;}",".button.jsx-3954724511{border:none;background:#C9174F;padding:2rem;font-size:1.5rem;color:#fff;border-radius:5px;font-weight:bold;text-transform:uppercase;cursor:pointer;margin-right:2rem;}",".box.jsx-3954724511{margin:2rem 0 3rem;}"]}))}}]);return t}(i.a.Component);var y=Object(u["compose"])(Object(u["graphql"])(f["g"],{name:"signUpProvisionalUser"}),Object(u["graphql"])(f["b"],{name:"changeAttendsState"}),Object(u["graphql"])(f["c"],{name:"changePlusOneState"}))(O);t["default"]=Object(p["a"])(E)}},[281]);return{page:e.default}});